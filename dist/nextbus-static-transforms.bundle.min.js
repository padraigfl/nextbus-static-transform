!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("nextbus-static-transforms.bundle",[],e):"object"==typeof exports?exports["nextbus-static-transforms.bundle"]=e():t["nextbus-static-transforms.bundle"]=e()}(window,function(){return function(t){var e={};function o(r){if(e[r])return e[r].exports;var n=e[r]={i:r,l:!1,exports:{}};return t[r].call(n.exports,n,n.exports,o),n.l=!0,n.exports}return o.m=t,o.c=e,o.d=function(t,e,r){o.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},o.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o(o.s=5)}([function(t,e,o){"use strict";t.exports=function(t){return Array.isArray(t)||(t=[t]),t}},function(t,e,o){"use strict";var r=o(0);t.exports={buildStopPoint:function(t){return{type:"Feature",properties:{title:t.title,tag:t.tag,stopId:t.stopId},geometry:{type:"Point",coordinates:[parseFloat(t.lon),parseFloat(t.lat)]}}},buildRoute:function(t){return{type:"Feature",properties:{title:t.route.title,tag:t.route.tag,color:t.route.color},geometry:{type:"MultiLineString",coordinates:(e=r(t.route.path),(e=r(e)).map(function(t){return r(t.point).map(function(t){return[parseFloat(t.lon),parseFloat(t.lat)]})}))}};var e},buildFeaturesShell:function(){return{type:"FeatureCollection",features:[]}}}},function(t,e,o){"use strict";var r=o(0);function n(t){return[parseFloat(t[0]),parseFloat(t[1])]}t.exports=function(t,e,o){e||(e={}),o||(o={});try{u=t.route.stop,i=o,(u=r(u)).forEach(function(t){i[t.tag]||(i[t.tag]=t)}),o=i,e[t.route.tag]={title:t.route.title,color:t.route.color,tag:t.route.tag,shortTitle:t.route.shortTitle,oppositeColor:t.route.oppositeColor,max:n([t.route.latMax,t.route.lonMax]),min:n([t.route.latMin,t.route.lonMin]),stops:function(t){var e={};if((t=t?r(t):[]).forEach(function(t){var o=t.stop.map(function(t){return t.tag});if("Outbound"===t.name){if(!e.outbound)return void(e.outbound=o)}else if("Inbound"===t.name&&!e.inbound)return void(e.outbound=o);e[t.title.replace(" ","_")]=o}),0!==Object.keys(e).length)return e}(t.route.direction)}}catch(t){throw TypeError(t.message)}var u,i;return{routes:e,stops:o}}},function(t,e){t.exports=e=window.fetch,e.default=window.fetch.bind(window),e.Headers=window.Headers,e.Request=window.Request,e.Response=window.Response},function(t,e,o){"use strict";var r=o(3);function n(t,e){var o=Object.keys(t).reduce(function(e,o){return e+o+"="+t[o]+"&"},"?"),n=r("http://webservices.nextbus.com/service/publicJSONFeed"+o).then(function(t){return t.json()});if(!e)return n;n.then(e)}t.exports={getRoutesTags:function(t,e){return n({a:t,command:"routeList"},e)},getRoute:function(t,e,o){return n({a:t,command:"routeConfig",r:e},o)},getRouteSchedule:function(t,e,o){return n({a:t,command:"schedule",r:e},o)},getAgencies:function(t){return n({command:"agencyList"},t)}}},function(t,e,o){"use strict";var r=o(4),n=o(2),u=o(1);t.exports={api:r,aggregator:n,geo:u}}])});
//# sourceMappingURL=nextbus-static-transforms.bundle.min.js.map